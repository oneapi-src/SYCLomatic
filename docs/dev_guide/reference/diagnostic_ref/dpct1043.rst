.. _DPCT1043:

DPCT1043
========

Message
-------

.. _msg-1043-start:

The version-related API is different in SYCL. An initial code was generated, but
you need to adjust it.

.. _msg-1043-end:

Detailed Help
-------------

The generated code uses ``sycl::info::device::version``, which provides different
information and uses a different type than the original code.

Suggestions to Fix
------------------

Adjust the generated code.

For example, this original CUDA\* code:

.. code-block:: cpp
   :linenos:

    void foo() {
      int version;
      cudaDriverGetVersion(&version);
      if (version >= 12000) {
        code path 1
      } else {
        code path 2
      }
    }

results in the following migrated SYCL\* code:

.. code-block:: cpp
   :linenos:

    void foo() {
      int version;
      /*
      DPCT1043:0: The version-related API is different in SYCL. An initial code was
      generated, but you need to adjust it.
      */
      version = dpct::get_current_device().get_major_version();
      if (version >= 12000) {
        ...
      } else {
        ...
      }
    }

which is rewritten to:

.. code-block:: cpp
   :linenos:

    void foo() {
      code path 1
    }

