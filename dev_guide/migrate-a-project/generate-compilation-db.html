

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Generate a Compilation Database &#8212; SYCLomatic Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'dev_guide/migrate-a-project/generate-compilation-db';</script>
    <link rel="icon" href="../../_static/favicons.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Incremental Migration" href="incremental-migration.html" />
    <link rel="prev" title="Migrate a Project on Windows*" href="migrate-a-project-on-windows.html" />

<script type="text/javascript">
  // Configure TMS settings
  var wapLocalCode = 'us_en';
  var wapSection = 'SYCL-docs';
  // Load TMS
  (function () {
    var url = 'https://www.intel.com/content/dam/www/global/wap/tms-loader.js'; // WAP file URL
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = url;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/oneAPI-rgb-rev-100.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/oneAPI-rgb-rev-100.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../get_started/index.html">Get Started with SYCLomatic</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer Guide and Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../migrate-a-project.html">Migrate a Project</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="before-you-begin.html">Before You Begin</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrate-a-project-on-linux.html">Migrate a Project on Linux*</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrate-a-project-on-windows.html">Migrate a Project on Windows*</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Generate a Compilation Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="incremental-migration.html">Incremental Migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-defined-migration-rules.html">User-defined Migration Rules</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference.html">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../command-line-options-reference.html">Command Line Options Reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../diagnostics-reference.html">Diagnostics Reference</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1000.html">DPCT1000</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1001.html">DPCT1001</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1002.html">DPCT1002</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1003.html">DPCT1003</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1004.html">DPCT1004</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1005.html">DPCT1005</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1006.html">DPCT1006</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1007.html">DPCT1007</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1008.html">DPCT1008</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1009.html">DPCT1009</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1010.html">DPCT1010</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1011.html">DPCT1011</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1012.html">DPCT1012</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1013.html">DPCT1013</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1014.html">DPCT1014</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1015.html">DPCT1015</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1016.html">DPCT1016</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1017.html">DPCT1017</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1018.html">DPCT1018</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1019.html">DPCT1019</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1020.html">DPCT1020</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1021.html">DPCT1021</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1022.html">DPCT1022</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1023.html">DPCT1023</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1024.html">DPCT1024</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1025.html">DPCT1025</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1026.html">DPCT1026</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1027.html">DPCT1027</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1028.html">DPCT1028</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1029.html">DPCT1029</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1030.html">DPCT1030</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1031.html">DPCT1031</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1032.html">DPCT1032</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1033.html">DPCT1033</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1034.html">DPCT1034</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1035.html">DPCT1035</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1036.html">DPCT1036</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1037.html">DPCT1037</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1038.html">DPCT1038</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1039.html">DPCT1039</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1040.html">DPCT1040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1041.html">DPCT1041</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1042.html">DPCT1042</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1043.html">DPCT1043</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1044.html">DPCT1044</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1045.html">DPCT1045</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1046.html">DPCT1046</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1047.html">DPCT1047</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1048.html">DPCT1048</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1049.html">DPCT1049</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1050.html">DPCT1050</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1051.html">DPCT1051</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1052.html">DPCT1052</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1053.html">DPCT1053</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1054.html">DPCT1054</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1055.html">DPCT1055</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1056.html">DPCT1056</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1057.html">DPCT1057</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1058.html">DPCT1058</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1059.html">DPCT1059</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1060.html">DPCT1060</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1061.html">DPCT1061</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1062.html">DPCT1062</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1063.html">DPCT1063</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1064.html">DPCT1064</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1065.html">DPCT1065</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1066.html">DPCT1066</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1067.html">DPCT1067</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1068.html">DPCT1068</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1069.html">DPCT1069</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1070.html">DPCT1070</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1071.html">DPCT1071</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1072.html">DPCT1072</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1073.html">DPCT1073</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1074.html">DPCT1074</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1075.html">DPCT1075</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1076.html">DPCT1076</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1077.html">DPCT1077</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1078.html">DPCT1078</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1079.html">DPCT1079</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1080.html">DPCT1080</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1081.html">DPCT1081</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1082.html">DPCT1082</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1083.html">DPCT1083</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1084.html">DPCT1084</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1085.html">DPCT1085</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1086.html">DPCT1086</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1087.html">DPCT1087</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1088.html">DPCT1088</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1089.html">DPCT1089</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1090.html">DPCT1090</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1091.html">DPCT1091</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1092.html">DPCT1092</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1093.html">DPCT1093</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1094.html">DPCT1094</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1095.html">DPCT1095</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1096.html">DPCT1096</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1097.html">DPCT1097</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1098.html">DPCT1098</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1099.html">DPCT1099</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1100.html">DPCT1100</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1101.html">DPCT1101</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1102.html">DPCT1102</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1103.html">DPCT1103</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1104.html">DPCT1104</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1105.html">DPCT1105</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1106.html">DPCT1106</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1107.html">DPCT1107</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1108.html">DPCT1108</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1109.html">DPCT1109</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1110.html">DPCT1110</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1111.html">DPCT1111</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dpct-namespace-usage-guide.html">DPCT Namespace Usage Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../term-mapping-quick-ref.html">CUDA* to SYCL* Term Mapping Quick Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../compare-prog-models.html">CUDA* and SYCL* Programming Model Comparison</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api-mapping-status.html">CUDA API Migration Support Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frequently-asked-questions-faq.html">Frequently Asked Questions</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/oneapi-src/SYCLomatic/edit/SYCLomatic/docs/dev_guide/migrate-a-project/generate-compilation-db.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/oneapi-src/SYCLomatic/issues/new?title=Issue%20on%20page%20%2Fdev_guide/migrate-a-project/generate-compilation-db.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/dev_guide/migrate-a-project/generate-compilation-db.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Generate a Compilation Database</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-a-compilation-database-for-makefile-based-projects">Generate a Compilation Database for Makefile-Based Projects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-a-compilation-database-for-cmake-based-projects">Generate a Compilation Database for CMake-Based Projects</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#option-one-use-intercept-build-to-generate-the-compilation-database">Option One: Use intercept-build to Generate the Compilation Database</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#option-two-use-cmake-option-to-generate-the-compilation-database">Option Two: Use CMake Option to Generate the Compilation Database</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-a-compilation-database-with-other-build-systems">Generate a Compilation Database with Other Build Systems</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="generate-a-compilation-database">
<span id="gen-comp-db"></span><h1>Generate a Compilation Database<a class="headerlink" href="#generate-a-compilation-database" title="Permalink to this heading">#</a></h1>
<p>A <a class="reference external" href="https://clang.llvm.org/docs/JSONCompilationDatabase.html">compilation database</a>
is a JSON file that contains an array of command objects, each of which usually
contains three parts:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">directory</span></code>: The working directory of the compilation. All paths specified
in the command or file fields must be either absolute or relative to this directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">command</span></code>: The compile command.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">file</span></code>: The translation unit’s main source file that is processed in the
compilation step.</p></li>
</ul>
<p>The compilation database lists detailed build options for each translation unit’s
main source file, which can be consumed by SYCLomatic to guide the code project migration.</p>
<p>For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>[
<span class="linenos"> 2</span>  {
<span class="linenos"> 3</span>    &quot;directory&quot;: &quot;/path/to/project&quot;,
<span class="linenos"> 4</span>    &quot;command&quot;: &quot;/usr/bin/clang++ ...  -Iinclude_path -D_FOO_=VALUE -c ./foo/foo.cpp&quot;,
<span class="linenos"> 5</span>    &quot;file&quot;: &quot;./foo/foo.cpp&quot;
<span class="linenos"> 6</span>  },
<span class="linenos"> 7</span>  ...
<span class="linenos"> 8</span>  {
<span class="linenos"> 9</span>    &quot;directory&quot;: &quot;/path/to/project&quot;,
<span class="linenos">10</span>    &quot;command&quot;: &quot;/usr/bin/clang++ ... -Iinclude_path -D_BAR_=VALUE -c ./foo/bar.cpp&quot;,
<span class="linenos">11</span>    &quot;file&quot;: &quot;./foo/bar.cpp&quot;
<span class="linenos">12</span>  }
<span class="linenos">13</span>]
</pre></div>
</div>
<p>A compilation database can be generated by running the <code class="docutils literal notranslate"><span class="pre">intercept-build</span></code> script,
which is provided as part of SYCLomatic. <code class="docutils literal notranslate"><span class="pre">intercept-build</span></code> supports the capture
of compilation command lines for files with the following extensions: <code class="docutils literal notranslate"><span class="pre">.c</span></code>, <code class="docutils literal notranslate"><span class="pre">.C</span></code>, <code class="docutils literal notranslate"><span class="pre">.cc</span></code>,
<code class="docutils literal notranslate"><span class="pre">.CC</span></code>, <code class="docutils literal notranslate"><span class="pre">.cp</span></code>, <code class="docutils literal notranslate"><span class="pre">.cpp</span></code>, <code class="docutils literal notranslate"><span class="pre">.cxx</span></code>, <code class="docutils literal notranslate"><span class="pre">.c++</span></code>, <code class="docutils literal notranslate"><span class="pre">.C++</span></code>, <code class="docutils literal notranslate"><span class="pre">.txx</span></code>, and <code class="docutils literal notranslate"><span class="pre">.cu</span></code>.</p>
<section id="generate-a-compilation-database-for-makefile-based-projects">
<h2>Generate a Compilation Database for Makefile-Based Projects<a class="headerlink" href="#generate-a-compilation-database-for-makefile-based-projects" title="Permalink to this heading">#</a></h2>
<p>The source code in Makefile-based projects can be compiled and linked into an
executable binary or library by running build commands specified in the project
Makefile.</p>
<p>For Makefile-based projects, you can generate the compilation database by running
<code class="docutils literal notranslate"><span class="pre">intercept-build</span> <span class="pre">make</span></code>.</p>
<p>Use the <a class="reference external" href="https://github.com/oneapi-src/oneAPI-samples/tree/master/Tools/Migration/folder-options-dpct">folder-options-dpct</a> sample to show the generation of compilation database.</p>
<ol class="arabic">
<li><p>Change to the <code class="docutils literal notranslate"><span class="pre">folder-options-dpct</span></code> sample directory.</p></li>
<li><p>Run the intercept-build tool to generate the compilation database:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>intercept-build make
</pre></div>
</div>
<p>The compilation datebase <code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code> is created in the sample directory.</p>
</li>
</ol>
</section>
<section id="generate-a-compilation-database-for-cmake-based-projects">
<h2>Generate a Compilation Database for CMake-Based Projects<a class="headerlink" href="#generate-a-compilation-database-for-cmake-based-projects" title="Permalink to this heading">#</a></h2>
<p>CMake uses <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> files to describe project configuration, source
files, and dependencies. When using CMake, make sure that all software that <code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code> files depend on has been installed, so that a functional Makefile can be generated by CMake.</p>
<p>There are two options to generate compilation database for CMake-based projects:</p>
<ol class="arabic simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">intercept-build</span></code></p></li>
<li><p>Use CMake option <code class="docutils literal notranslate"><span class="pre">CMAKE_EXPORT_COMPILE_COMMANDS</span></code></p></li>
</ol>
<section id="option-one-use-intercept-build-to-generate-the-compilation-database">
<h3>Option One: Use intercept-build to Generate the Compilation Database<a class="headerlink" href="#option-one-use-intercept-build-to-generate-the-compilation-database" title="Permalink to this heading">#</a></h3>
<p>The following steps show how to generate the compilation database using <code class="docutils literal notranslate"><span class="pre">intercept-build</span></code>:</p>
<ol class="arabic">
<li><p>Install the required software dependencies for the project.</p></li>
<li><p>In a command window, go to the project folder.</p></li>
<li><p>In the project folder create and navigate to a new build directory:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mkdir build &amp;&amp; cd build
</pre></div>
</div>
</li>
<li><p>Run CMake to generate a Makefile:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cmake ../
</pre></div>
</div>
</li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">intercept-build</span></code> to generate the compilation database:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>intercept-build make
</pre></div>
</div>
</li>
</ol>
</section>
<section id="option-two-use-cmake-option-to-generate-the-compilation-database">
<h3>Option Two: Use CMake Option to Generate the Compilation Database<a class="headerlink" href="#option-two-use-cmake-option-to-generate-the-compilation-database" title="Permalink to this heading">#</a></h3>
<p>With CMake 3.5 version or higher, you can use the CMake option
<code class="docutils literal notranslate"><span class="pre">CMAKE_EXPORT_COMPILE_COMMANDS</span></code> to generate the compilation database. For example,
the following command generates the compilation database <code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code>
in the build directory:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cmake  -DCMAKE_EXPORT_COMPILE_COMMANDS=ON ../
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CMake 3.10 or higher is recommended as it provides better support for CUDA source code.</p>
</div>
</section>
</section>
<section id="generate-a-compilation-database-with-other-build-systems">
<h2>Generate a Compilation Database with Other Build Systems<a class="headerlink" href="#generate-a-compilation-database-with-other-build-systems" title="Permalink to this heading">#</a></h2>
<p>For projects using other build systems, <code class="docutils literal notranslate"><span class="pre">intercept-build</span></code> can be used to generate
a compilation database from the build log of the project.</p>
<p>When generating a compilation database from the build log of a project, make sure
to build your project using the appropriate build options to generate a verbose
build log.</p>
<p>For example:</p>
<table class="table">
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Build System</p></td>
<td><p>Option to Generate Verbose Build Log</p></td>
</tr>
<tr class="row-even"><td><p>Make</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VERBOSE=1</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>CMake/Ninja</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">-DCMAKE_VERBOSE_MAKEFILE=ON</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Bazel</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">--subcommands</span></code></p></td>
</tr>
</tbody>
</table>
<p>You can use the <a class="reference external" href="https://github.com/oneapi-src/oneAPI-samples/tree/master/Tools/Migration/folder-options-dpct">folder-options-dpct</a> sample to show the generation of the compilation database based on the build log.</p>
<ol class="arabic">
<li><p>Change to the <code class="docutils literal notranslate"><span class="pre">folder-options-dpct</span></code> sample directory.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">make</span></code> with options to collect a verbose build log:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>make VERBOSE=1 -B &gt; ./build_log.txt

  The content of “build_log.txt” should look like the following:

  .. code-block:: none
 :linenos:

 nvcc -c  -I./foo -I./foo/bar foo/main.cu -o foo/main.o
 nvcc -c  -I./foo -I./foo/bar foo/bar/util.cu -o foo/bar/util.o
 nvcc  ./foo/main.o ./foo/bar/util.o -o foo-bar
</pre></div>
</div>
</li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">intercept-build</span></code> to generate the compilation database with the <code class="docutils literal notranslate"><span class="pre">--parse-build-log</span></code> option to specify the build log to use:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>intercept-build --parse-build-log=build_log.txt --work-directory=./
</pre></div>
</div>
<p>The compilation database <code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code> is generated in the
current directory.</p>
</li>
</ol>
<p>For more information about intercept-build, run <code class="docutils literal notranslate"><span class="pre">intercept-build</span> <span class="pre">--help</span></code>.</p>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="migrate-a-project-on-windows.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Migrate a Project on Windows*</p>
      </div>
    </a>
    <a class="right-next"
       href="incremental-migration.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Incremental Migration</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-a-compilation-database-for-makefile-based-projects">Generate a Compilation Database for Makefile-Based Projects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-a-compilation-database-for-cmake-based-projects">Generate a Compilation Database for CMake-Based Projects</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#option-one-use-intercept-build-to-generate-the-compilation-database">Option One: Use intercept-build to Generate the Compilation Database</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#option-two-use-cmake-option-to-generate-the-compilation-database">Option Two: Use CMake Option to Generate the Compilation Database</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generate-a-compilation-database-with-other-build-systems">Generate a Compilation Database with Other Build Systems</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div><a href='https://www.intel.com/content/www/us/en/privacy/intel-cookie-notice.html' data-cookie-notice='true'>Cookies</a> <a href='https://www.intel.com/content/www/us/en/privacy/intel-privacy-notice.html'>| Privacy</a> <a data-wap_ref='dns' id='wap_dns' href='https://www.intel.com/content/www/us/en/privacy/intel-cookie- notice.html'>| Do Not Share My Personal Information</a> </div><div>&copy; Intel Corporation. Intel, the Intel logo, and other Intel marks are trademarks of Intel Corporation or its subsidiaries. Other names and brands may be claimed as the property of others. SYCL is a registered trademark of the Kronos Group, Inc. No license (express or implied, by estoppel or otherwise) to any intellectual property rights is granted by this document, with the sole exception that code included in this document is licensed subject to the Zero-Clause BSD open source license (OBSD), <a href='http://opensource.org/licenses/0BSD'>http://opensource.org/licenses/0BSD</a>. </div><br><div>SYCLomatic is licensed under Apache License Version 2.0 with LLVM exceptions. Refer to the <a href='https://github.com/oneapi-src/SYCLomatic/blob/e96dbad0a424be9decd0aff7955707d8fb679043/LICENSE.TXT'>LICENSE </a> file for the full license text and copyright notice.</div>
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>