

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>User-defined Migration Rules &#8212; SYCLomatic Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'dev_guide/migrate-a-project/user-defined-migration-rules';</script>
    <link rel="icon" href="../../_static/favicons.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Reference" href="../reference.html" />
    <link rel="prev" title="Incremental Migration" href="incremental-migration.html" />

<script type="text/javascript">
  // Configure TMS settings
  var wapLocalCode = 'us_en';
  var wapSection = 'SYCL-docs';
  // Load TMS
  (function () {
    var url = 'https://www.intel.com/content/dam/www/global/wap/tms-loader.js'; // WAP file URL
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = url;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
    
    
      
    
    
    <img src="../../_static/oneAPI-rgb-rev-100.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/oneAPI-rgb-rev-100.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../get_started/index.html">Get Started with SYCLomatic</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer Guide and Reference</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Overview</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../migrate-a-project.html">Migrate a Project</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="before-you-begin.html">Before You Begin</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrate-a-project-on-linux.html">Migrate a Project on Linux*</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrate-a-project-on-windows.html">Migrate a Project on Windows*</a></li>
<li class="toctree-l2"><a class="reference internal" href="generate-compilation-db.html">Generate a Compilation Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="incremental-migration.html">Incremental Migration</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">User-defined Migration Rules</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference.html">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../command-line-options-reference.html">Command Line Options Reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../diagnostics-reference.html">Diagnostics Reference</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1000.html">DPCT1000</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1001.html">DPCT1001</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1002.html">DPCT1002</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1003.html">DPCT1003</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1004.html">DPCT1004</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1005.html">DPCT1005</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1006.html">DPCT1006</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1007.html">DPCT1007</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1008.html">DPCT1008</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1009.html">DPCT1009</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1010.html">DPCT1010</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1011.html">DPCT1011</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1012.html">DPCT1012</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1013.html">DPCT1013</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1014.html">DPCT1014</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1015.html">DPCT1015</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1016.html">DPCT1016</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1017.html">DPCT1017</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1018.html">DPCT1018</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1019.html">DPCT1019</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1020.html">DPCT1020</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1021.html">DPCT1021</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1022.html">DPCT1022</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1023.html">DPCT1023</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1024.html">DPCT1024</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1025.html">DPCT1025</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1026.html">DPCT1026</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1027.html">DPCT1027</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1028.html">DPCT1028</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1029.html">DPCT1029</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1030.html">DPCT1030</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1031.html">DPCT1031</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1032.html">DPCT1032</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1033.html">DPCT1033</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1034.html">DPCT1034</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1035.html">DPCT1035</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1036.html">DPCT1036</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1037.html">DPCT1037</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1038.html">DPCT1038</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1039.html">DPCT1039</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1040.html">DPCT1040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1041.html">DPCT1041</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1042.html">DPCT1042</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1043.html">DPCT1043</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1044.html">DPCT1044</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1045.html">DPCT1045</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1046.html">DPCT1046</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1047.html">DPCT1047</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1048.html">DPCT1048</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1049.html">DPCT1049</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1050.html">DPCT1050</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1051.html">DPCT1051</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1052.html">DPCT1052</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1053.html">DPCT1053</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1054.html">DPCT1054</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1055.html">DPCT1055</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1056.html">DPCT1056</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1057.html">DPCT1057</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1058.html">DPCT1058</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1059.html">DPCT1059</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1060.html">DPCT1060</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1061.html">DPCT1061</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1062.html">DPCT1062</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1063.html">DPCT1063</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1064.html">DPCT1064</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1065.html">DPCT1065</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1066.html">DPCT1066</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1067.html">DPCT1067</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1068.html">DPCT1068</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1069.html">DPCT1069</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1070.html">DPCT1070</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1071.html">DPCT1071</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1072.html">DPCT1072</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1073.html">DPCT1073</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1074.html">DPCT1074</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1075.html">DPCT1075</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1076.html">DPCT1076</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1077.html">DPCT1077</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1078.html">DPCT1078</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1079.html">DPCT1079</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1080.html">DPCT1080</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1081.html">DPCT1081</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1082.html">DPCT1082</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1083.html">DPCT1083</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1084.html">DPCT1084</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1085.html">DPCT1085</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1086.html">DPCT1086</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1087.html">DPCT1087</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1088.html">DPCT1088</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1089.html">DPCT1089</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1090.html">DPCT1090</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1091.html">DPCT1091</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1092.html">DPCT1092</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1093.html">DPCT1093</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1094.html">DPCT1094</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1095.html">DPCT1095</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1096.html">DPCT1096</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1097.html">DPCT1097</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1098.html">DPCT1098</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1099.html">DPCT1099</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1100.html">DPCT1100</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1101.html">DPCT1101</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1102.html">DPCT1102</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1103.html">DPCT1103</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1104.html">DPCT1104</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1105.html">DPCT1105</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1106.html">DPCT1106</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1107.html">DPCT1107</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1108.html">DPCT1108</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1109.html">DPCT1109</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1110.html">DPCT1110</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diagnostic_ref/dpct1111.html">DPCT1111</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dpct-namespace-usage-guide.html">DPCT Namespace Usage Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../term-mapping-quick-ref.html">CUDA* to SYCL* Term Mapping Quick Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../compare-prog-models.html">CUDA* and SYCL* Programming Model Comparison</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api-mapping-status.html">CUDA API Migration Support Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frequently-asked-questions-faq.html">Frequently Asked Questions</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/oneapi-src/SYCLomatic/edit/SYCLomatic/docs/dev_guide/migrate-a-project/user-defined-migration-rules.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/oneapi-src/SYCLomatic/issues/new?title=Issue%20on%20page%20%2Fdev_guide/migrate-a-project/user-defined-migration-rules.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/dev_guide/migrate-a-project/user-defined-migration-rules.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>User-defined Migration Rules</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#specify-migration-rule-files">Specify Migration Rule Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#write-user-defined-migration-rules">Write User-defined Migration Rules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#grammar-for-out-key-in-a-user-defined-api-migration-rule">Grammar for Out Key in a User-defined API Migration Rule</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="user-defined-migration-rules">
<h1>User-defined Migration Rules<a class="headerlink" href="#user-defined-migration-rules" title="Permalink to this heading">#</a></h1>
<p>SYCLomatic uses migration rules to migrate CUDA* code to SYCL* code.
There are three categories of migration rules used by the tool:</p>
<ul class="simple">
<li><p><strong>Default migration rules.</strong> A set of built-in migration rules used by the
SYCLomatic for all migrations.</p></li>
<li><p><strong>Optional predefined migration rules.</strong>  A set of predefined migration rules
that can optionally be used for migration. Available predefined migration rules
are in the <em>extensions/opt_rules</em> folder on the installation path of the
SYCLomatic.</p></li>
<li><p><strong>User-defined migration rules.</strong> Custom migration rules defined by the user.
User-defined migration rules extend the migration capability of the
SYCLomatic and can target the migration of specific CUDA syntax to
SYCL syntax.</p></li>
</ul>
<section id="specify-migration-rule-files">
<h2>Specify Migration Rule Files<a class="headerlink" href="#specify-migration-rule-files" title="Permalink to this heading">#</a></h2>
<p>To specify a predefined or user-defined migration rule file for use in migration,
use the <code class="docutils literal notranslate"><span class="pre">–rule-file</span></code> command line option with your migration command.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">–rule-file</span></code> option can be used multiple times with a single command to
specify multiple migration rule files. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dpct sample.cu --rule-file=rule_file1.YAML --rule-file=rule_file2.YAML
</pre></div>
</div>
<p>See the <a class="reference internal" href="../command-line-options-reference.html#cmd-opt-ref"><span class="std std-ref">Command Line Options Reference</span></a> for additional information.</p>
</section>
<section id="write-user-defined-migration-rules">
<h2>Write User-defined Migration Rules<a class="headerlink" href="#write-user-defined-migration-rules" title="Permalink to this heading">#</a></h2>
<p>Migration rules are specified in YAML files. A single rule file may contain multiple migration rules. To define a rule, use the following
&lt;key&gt;: &lt;value&gt; pairs:</p>
<table class="table">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Rule</p></td>
<td><p>String value</p></td>
<td><p>Required. Specifies the unique name of the rule.</p></td>
</tr>
<tr class="row-odd"><td><p>Priority</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Takeover</span></code> | <code class="docutils literal notranslate"><span class="pre">Default</span></code> | <code class="docutils literal notranslate"><span class="pre">Fallback</span></code></p></td>
<td><p>Required. Specifies the priority of the rule: <code class="docutils literal notranslate"><span class="pre">Takeover</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Default</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Fallback</span></code>.
When there are rule conflicts, the rule with higher priority will take precedence.</p></td>
</tr>
<tr class="row-even"><td><p>Kind</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Macro</span></code> | <code class="docutils literal notranslate"><span class="pre">API</span></code> | <code class="docutils literal notranslate"><span class="pre">Header</span></code> | <code class="docutils literal notranslate"><span class="pre">Type</span></code> | <code class="docutils literal notranslate"><span class="pre">Class</span></code> | <code class="docutils literal notranslate"><span class="pre">Enum</span></code></p></td>
<td><p>Required. Specifies the rule type.</p></td>
</tr>
<tr class="row-odd"><td><p>In</p></td>
<td><p>String value</p></td>
<td><p>Required. Specifies the target name in the input source code.</p></td>
</tr>
<tr class="row-even"><td><p>Out</p></td>
<td><p>String value</p></td>
<td><p>Required. Specifies the final format in the output source code.</p></td>
</tr>
<tr class="row-odd"><td><p>Includes</p></td>
<td><p>List of header files</p></td>
<td><p>Required. Specifies the header files which should be included in the output source code. The value can be an empty list.</p></td>
</tr>
<tr class="row-even"><td><p>EnumName</p></td>
<td><p>String value</p></td>
<td><p>Specifies the name of an enum for an Enum rule type.</p></td>
</tr>
<tr class="row-odd"><td><p>Fields</p></td>
<td><p>String value</p></td>
<td><p>Specifies the migration rule of fields in a Class rule type.</p></td>
</tr>
<tr class="row-even"><td><p>Methods</p></td>
<td><p>String value</p></td>
<td><p>Specifies the migration rule of methods in a Class rule type.</p></td>
</tr>
<tr class="row-odd"><td><p>Prefix</p></td>
<td><p>String value</p></td>
<td><p>Specifies the prefix of a Header rule type. For example: <code class="docutils literal notranslate"><span class="pre">#ifdef</span> <span class="pre">...</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Postfix</p></td>
<td><p>String value</p></td>
<td><p>Specifies the postfix of a Header rule type. For example: <code class="docutils literal notranslate"><span class="pre">#endif</span> <span class="pre">...</span></code></p></td>
</tr>
</tbody>
</table>
<p>For example, the following user-defined migration rule file demonstrates different
rule types. The behavior of each rule is explained in the corresponding comment:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>---                                                    # [YAML syntax] Begin the document
- Rule: rule_forceinline                               # Rule to migrate &quot;__forceinline__&quot; to &quot;inline&quot;
  Kind: Macro                                          # Rule type
  Priority: Takeover                                   # Rule priority
  In: __forceinline__                                  # Target macro name in the input source code
  Out: inline                                          # Migrated name of the macro in the output source code
  Includes: [&quot;header1.h&quot;, &quot;\&quot;header2.h\&quot;&quot;]             # List of header file names which the new macro depends on
- Rule: rule_foo                                       # Rule to migrate &quot;foo(a,b)&quot; to &quot;int *new_ptr=bar(*b)&quot;
  Kind: API
  Priority: Takeover
  In: foo                                              # Target function name in the input source code
  Out: $type_name_of($2) *new_ptr = bar($deref($1))    # Format of the migrated result in the output source code
  Includes: [&quot;&lt;header3&gt;&quot;]
- Rule: rule_cmath                                     # Rule to migrate &quot;include&lt;cmath&gt;&quot; to &quot;#include&lt;mymath&gt;&quot;
  Kind: Header
  Priority: Takeover
  In: cmath
  Out: mymath
  Prefix: &quot;#ifdef USE_MYMATH\n&quot;                        # Add prefix before &quot;#include&lt;mymath&gt;&quot;
  Postfix: &quot;#endif\n&quot;                                  # Add postfix after &quot;#include&lt;mymath&gt;&quot;
  Includes: [&quot;&quot;]
- Rule: rule_classA                                    # Rule to migrate &quot;classA&quot; to &quot;classB&quot;
  Kind: Class
  Priority: Takeover
  In: classA
  Out: classB
  Includes: []
  Fields:                                              # Specify the migration rule of fields of classA
    - In: fieldA                                       # Migrate classA.fieldA to getter and setter
      OutGetter: get_a                                 # Migrate value reference of classA.fieldA to classB.get_a()
      OutSetter: set_a                                 # Migrate value assignment of classA.fieldA to classB.set_a()
    - In: fieldC
      Out: fieldD                                      # Migrate classA.fieldC to classB.fieldD
  Methods:
    - In: methodA
      Out: a.methodB($2)                               # Migrate classA.methodA(x,y) to a.methodB(y)
- Rule: rule_Fruit                                     # Rule to migrate &quot;Fruit:apple&quot; to &quot;Fruit:pineapple&quot;
  Kind: Enum
  Priority: Takeover
  EnumName: Fruit
  In: apple
  Out: pineapple
  Includes: [&quot;fruit.h&quot;]
- Rule: type_rule                                      # Migrate &quot;OldType&quot; to &quot;NewType&quot;
  Kind: Type
  Priority: Takeover
  In: OldType
  Out: NewType
  Includes: []

...                                                    # [YAML syntax] End the document
</pre></div>
</div>
</section>
<section id="grammar-for-out-key-in-a-user-defined-api-migration-rule">
<h2>Grammar for Out Key in a User-defined API Migration Rule<a class="headerlink" href="#grammar-for-out-key-in-a-user-defined-api-migration-rule" title="Permalink to this heading">#</a></h2>
<p>To describe the value format for the <code class="docutils literal notranslate"><span class="pre">Out</span></code> key in a migration rule of
<code class="docutils literal notranslate"><span class="pre">Kind:</span> <span class="pre">API</span></code>, use the following Backus-Naur form grammar:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>OutValue::= Token | Token OutValue       # OutValue is the value for the “out” key
Token::= AnyString | Keyword             # AnyString is a string provided by the user
Keyword::= ArgIndex
   | $queue                              # Represents the queue string
   | $context                            # Represents the context string
   | $device                             # Represents the device string
   | $deref(ArgIndex)                    # The dereferenced value of the argument
   | $type_name_of(ArgIndex)             # The type name of the argument
   | $deref_type(ArgIndex)               # The dereferenced type name of the argument
   | $addr_of(ArgIndex)                  # The address of the argument
ArgIndex::= $Int                         # Int should be a greater than zero integer
</pre></div>
</div>
<p>The following scenario describes how the tool makes use of a user-defined
migration rule that uses this grammar to migrate code.</p>
<p>Consider the following user-defined API migration rule:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>- Rule: rule_foo
  Kind: API
  Priority: Takeover
  In: foo
  Out: $type_name_of($2) new_ptr = bar($deref($1), $3)
  Includes: [“&lt;header3&gt;”]
</pre></div>
</div>
<p>If the input source code contains a function call that matches the rule, the
tool parses the value of the <code class="docutils literal notranslate"><span class="pre">In</span></code> and <code class="docutils literal notranslate"><span class="pre">Out</span></code> keys and builds a keyword mapping
between the input and output source code. For example, with input source code:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>int *ptr, *ptr2;
foo(ptr, ptr2, 30);
</pre></div>
</div>
<p>The tool creates the following mapping:</p>
<table class="table">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 40.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Keyword</p></th>
<th class="head"><p>Input Source Code Match</p></th>
<th class="head"><p>Migration Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">$1</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ptr</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ptr</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">$2</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ptr2</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ptr2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">$3</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">30</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">30</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">$type_name_of($2)</span></code></p></td>
<td><p>N/A</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">int*</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">$deref($1)</span></code></p></td>
<td><p>N/A</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">*ptr</span></code></p></td>
</tr>
</tbody>
</table>
<p>Using this mapping, the tool migrates the input source code into the following
output source code:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>int *ptr, *ptr2;
int * new_ptr = bar(*ptr, 30);
</pre></div>
</div>
</section>
</section>


                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="incremental-migration.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Incremental Migration</p>
      </div>
    </a>
    <a class="right-next"
       href="../reference.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Reference</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#specify-migration-rule-files">Specify Migration Rule Files</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#write-user-defined-migration-rules">Write User-defined Migration Rules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#grammar-for-out-key-in-a-user-defined-api-migration-rule">Grammar for Out Key in a User-defined API Migration Rule</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <div><a href='https://www.intel.com/content/www/us/en/privacy/intel-cookie-notice.html' data-cookie-notice='true'>Cookies</a> <a href='https://www.intel.com/content/www/us/en/privacy/intel-privacy-notice.html'>| Privacy</a> <a data-wap_ref='dns' id='wap_dns' href='https://www.intel.com/content/www/us/en/privacy/intel-cookie- notice.html'>| Do Not Share My Personal Information</a> </div><div>&copy; Intel Corporation. Intel, the Intel logo, and other Intel marks are trademarks of Intel Corporation or its subsidiaries. Other names and brands may be claimed as the property of others. SYCL is a registered trademark of the Kronos Group, Inc. No license (express or implied, by estoppel or otherwise) to any intellectual property rights is granted by this document, with the sole exception that code included in this document is licensed subject to the Zero-Clause BSD open source license (OBSD), <a href='http://opensource.org/licenses/0BSD'>http://opensource.org/licenses/0BSD</a>. </div><br><div>SYCLomatic is licensed under Apache License Version 2.0 with LLVM exceptions. Refer to the <a href='https://github.com/oneapi-src/SYCLomatic/blob/e96dbad0a424be9decd0aff7955707d8fb679043/LICENSE.TXT'>LICENSE </a> file for the full license text and copyright notice.</div>
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>